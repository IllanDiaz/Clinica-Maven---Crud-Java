<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <h:head>
            <title>Registro</title>
            <meta charset="UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" />
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
        </h:head>
    </h:head>
    <h:body class="bg-success d-flex justify-content-center align-items-center vh-100">
        <div class="bg-white p-5 rounded-5 text-secondary shadow" style="width: 25rem">
            <div class="d-flex justify-content-center">
                <img src="IMG/login-icon.svg" alt="register-icon" style="height: 7rem" />
            </div>
            <div class="text-center fs-1 fw-bold">Registrate</div>
            <h:form class="formulario" id="formulario">                
                <div class="input-group mt-4">
                    <div class="input-group-text bg-success">
                        <img src="IMG/username-icon.svg" alt="name-icon" style="height: 1rem" />
                        Nombre
                    </div>
                    <h:outputLabel for="nombre" />
                    <h:inputText value="#{pacienteBean.service.paciente.nombre}" class="form-control bg-light" id="nombre" required="true"
                                 validatorMessage="Ingrese un nombre valido" label="Nombre">
                        <h:message for="nombre" style="color: red;" /> 
                    </h:inputText>
                </div>
                <div class="input-group mt-1">
                    <div class="input-group-text bg-success">
                        <img src="IMG/username-icon.svg" alt="surname-icon" style="height: 1rem" />
                        Ap. Paterno
                    </div>
                    <h:outputLabel for="appaterno" />
                    <h:inputText value="#{pacienteBean.service.paciente.apellidopaterno}" class="form-control bg-light" id="appaterno" required="true"
                                 validatorMessage="Ingrese un apellido paterno valido" label="ApPaterno">
                        <h:message for="nombre" style="color: red;" /> 
                    </h:inputText>                   
                </div>
                <div class="input-group mt-1">
                    <div class="input-group-text bg-success">
                        <img src="IMG/username-icon.svg" alt="surname-icon" style="height: 1rem" />
                        Ap. Materno
                    </div>
                    <h:outputLabel for="apmaterno" />
                    <h:inputText value="#{pacienteBean.service.paciente.apellidomaterno}" class="form-control bg-light" id="apmaterno" required="true"
                                 validatorMessage="Ingrese un apellido materno valido" label="ApMaterno">
                        <f:validateRegex pattern="^[a-zA-Z0-9\s]+$" />
                        <f:validateLength minimum="1" maximum="255" />
                        <h:message for="nombre" style="color: red;" /> 
                    </h:inputText>
                </div>
                <div class="input-group mt-1">
                    <div class="input-group-text bg-success">
                        <img src="IMG/sex.png" alt="sex-icon" style="height: 1rem" />
                    </div>
                    <h:outputLabel for="sexo" />
                    <h:selectOneMenu id="sexo" value="#{pacienteBean.service.paciente.sexo}" class="form-select bg-light" required="true">
                        <f:selectItem itemLabel="Seleccionar sexo" itemValue="" />
                        <f:selectItem itemLabel="Masculino" itemValue="Masculino" />
                        <f:selectItem itemLabel="Femenino" itemValue="Femenino" />
                    </h:selectOneMenu>
                </div>
                <div class="input-group mt-1">
                    <div class="input-group-text bg-success">
                        <img src="IMG/age-group.png" alt="age-icon" style="height: 1rem" />
                        Edad
                    </div>
                    <h:outputLabel for="edad" />
                    <h:inputText id="edad" value="#{pacienteBean.service.paciente.edad}" class="form-control bg-light" required="true" label="Edad">
                    </h:inputText>
                    <h:message for="edad" style="color: red;" />
                </div>
                <div class="input-group mt-1">
                    <div class="input-group-text bg-success">
                        <img src="IMG/username-icon.svg" alt="dni-icon" style="height: 1rem" />
                        DNI
                    </div>
                    <h:outputLabel for="dni" />
                    <h:inputText id="dni" value="#{pacienteBean.service.paciente.dni}" class="form-control bg-light" required="true" label="Dni">
                    </h:inputText>
                    <h:message for="edad" style="color: red;" />
                </div>
                <div class="input-group mt-1">
                    <div class="input-group-text bg-success">
                        <img src="IMG/password-icon.svg" alt="password-icon" style="height: 1rem" />
                        Contraseña
                    </div>
                    <h:outputLabel for="contrasena"/>
                    <h:inputSecret value="#{pacienteBean.service.paciente.password}" id="contrasena" required="true"
                                   label="Contraseña" class="form-control bg-light"
                                   >
                    </h:inputSecret> 
                    <h:message for="contrasena" style="color: red;"/>
                </div>
              
                <h:commandButton class="btn btn-success text-white w-100 mt-4 fw-semibold shadow-sm" action="#{pacienteBean.service.pacienteIns()}" value="Registrarse"/>


            </h:form>

            <div class="d-flex gap-1 justify-content-center mt-1">
                <div>¿Ya tienes una cuenta?</div>
                <a href="inisesion.xhtml" class="text-decoration-none text-dark fw-semibold">Iniciar Sesión</a>
            </div>
            <a href="index.jsp" class="btn d-flex gap-2 justify-content-center border mt-3 shadow-sm">
                <img src="IMG/logo.png" alt="google-icon" style="height: 1.6rem" />
                <div class="fw-semibold text-secondary">Orbita medic</div>
            </a>
        </div>
    </h:body>
</html>